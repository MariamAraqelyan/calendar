<div class="calendar-container calendar-{{viewState()}}-view" [attr.data-theme]="configState().theme ? 'dark' : 'light'">
    <div class="calendar-header">
    <div class="calendar-controls">
        <button (click)="store.prev()" class="btn">&lt;</button>
        <button (click)="store.today()" class="btn">Today</button>
        <button (click)="store.next()" class="btn">&gt;</button>
    </div>
    
    <h2 class="calendar-title">{{ calendarTitle() }}</h2>
    
    <div class="view-switcher">
        <button 
        [class.active]="viewState() === 'month'" 
        (click)="store.setView('month')" 
        class="btn"
        >Month</button>
        <button 
        [class.active]="viewState() === 'week'" 
        (click)="store.setView('week')" 
        class="btn"
        >Week</button>
        <button 
        [class.active]="viewState() === 'day'" 
        (click)="store.setView('day')" 
        class="btn"
        >Day</button>
    </div>
    </div>

    <div class="calendar-body">
    @switch (viewState()) {
        @case ('month') {
        <app-monthly
            [dayCellTemplate]="dayCellTemplate()!"
            [eventTemplate]="eventTemplate()!"
            (eventClick)="onEventClick($event)"
            (dateClick)="onDateClick($event)"
        />
        }
        @case ('week') {
            <app-weekly/>
        }
        @case ('day') {
            <app-daily/>
        }
    }
    </div>
</div>
