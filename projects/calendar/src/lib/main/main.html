<div class="calendar-container calendar-{{viewState()}}-view" [attr.data-theme]="configState().theme ? 'dark' : 'light'">
    <div class="calendar-header">
    <div class="calendar-controls">
        <button class="btn" (click)="store.prev()">&lt;</button>
        <button class="btn" (click)="store.today()">Today</button>
        <button class="btn" (click)="store.next()">&gt;</button>
    </div>
    
    <h2 class="calendar-title">{{ calendarTitle() }}</h2>
    
    <div class="view-switcher">
        <button
            class="btn"
            [class.active]="viewState() === 'month'" 
            (click)="store.setView('month')" 
        >Month</button>
        <button 
            class="btn"
            [class.active]="viewState() === 'week'" 
            (click)="store.setView('week')" 
        >Week</button>
        <button
            class="btn"
            [class.active]="viewState() === 'day'" 
            (click)="store.setView('day')" 
        >Day</button>
    </div>
    </div>

    <div class="calendar-body">
    @switch (viewState()) {
        @case ('month') {
            <app-monthly
                [dayCellTemplate]="dayCellTemplate()!"
                [eventTemplate]="eventTemplate()!"
                (dateClick)="onDateClick($event)"
                (eventClick)="onEventClick($event)"
            />
        }
        @case ('week') {
            <app-weekly
                (dateClick)="onDateClick($event)"
                (eventClick)="onEventClick($event)"
            />
        }
        @case ('day') {
            <app-daily
                (dateClick)="onDateClick($event)"
                (eventClick)="onEventClick($event)"
            />
        }
    }
    </div>
</div>
